<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚ú® Mood Mode Deck ‚ú®</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .card { cursor: pointer; transition: transform 0.3s; }
        .card:hover { transform: scale(1.05); }
        .hidden { display: none; }
        #fullCard { animation: fadeIn 0.5s; }
        img.card-image { width: 100%; height: 250px; object-fit: cover; border-radius: 10px; margin-bottom: 20px; }
        @keyframes fadeIn { from {opacity:0;} to {opacity:1;} }
    </style>
</head>
<body class="bg-gradient-to-br from-indigo-900 via-purple-900 to-gray-900 text-white min-h-screen p-6">
    <div id="familiarPopup" class="fixed inset-0 z-50 bg-black bg-opacity-80 flex items-center justify-center">
        <div class="bg-white text-black p-6 rounded-lg shadow-lg max-w-md text-center">
            <img id="familiarImage" src="" alt="Mood Familiar" class="mx-auto mb-4 rounded-full w-24 h-24 object-cover">
            <p class="text-lg mb-4">Hey Bestie. You look like you‚Äôve got rage cleaning in your soul. Let‚Äôs burn something (emotionally).</p>
            <button onclick="closeFamiliar()" class="bg-indigo-600 text-white px-4 py-2 rounded">Shoo</button>
        </div>
    </div>

    <h1 class="text-4xl font-bold text-center mb-6">‚ú® Mood Mode Deck ü¶ù</h1>

    <div class="flex flex-wrap justify-center mb-6 space-x-2 space-y-2">
        <select id="energySelect" class="bg-gray-200 text-black py-2 px-4 rounded" onchange="filterEnergy(this.value)">
            <option value="All">All Energy</option>
            <option value="Low">Low</option>
            <option value="Mid">Mid</option>
            <option value="High">High</option>
        </select>

        <select id="moodSelect" class="bg-gray-200 text-black py-2 px-4 rounded" onchange="filterMood(this.value)">
            <option value="All">All Moods</option>
            <option value="Cozy">Cozy</option>
            <option value="Functional">Functional</option>
            <option value="Extra">Extra</option>
            <option value="Angry">Angry</option>
            <option value="Survival">Survival</option>
            <option value="Cleanfreak">Cleanfreak</option>
        </select>
    </div>

    <div id="app" class="grid md:grid-cols-2 lg:grid-cols-3 gap-4"></div>
    <div id="fullCard" class="hidden fixed inset-0 bg-black bg-opacity-90 p-6 overflow-auto"></div>

    <script>
        const familiarImages = [
            "https://i.imgur.com/OCddtdL.jpeg",
            "https://i.imgur.com/j5YpThB.jpeg"
        ];

        function showFamiliar() {
            const image = familiarImages[Math.floor(Math.random() * familiarImages.length)];
            document.getElementById('familiarImage').src = image;
            document.getElementById('familiarPopup').classList.remove('hidden');
        }

        function closeFamiliar() {
            document.getElementById('familiarPopup').classList.add('hidden');
        }

        window.onload = showFamiliar;

        const moodModes = [] // your existing moodModes array goes here

        let currentEnergy = 'All';
        let currentMood = 'All';
        let filteredModes = [];

        function renderCards() {
            app.innerHTML = '';
            filteredModes = moodModes.filter(mode => (currentEnergy === 'All' || mode.energy.includes(currentEnergy)) && (currentMood === 'All' || mode.mood.includes(currentMood)));
            filteredModes.forEach((mode, index) => {
                const card = document.createElement('div');
                card.className = "card bg-gray-800 rounded shadow-lg p-4";
                card.innerHTML = `<h2 class="text-2xl font-bold">${mode.name}</h2><p class="italic">${mode.mood.join(", ")}</p>`;
                card.onclick = () => showFullCard(index);
                app.appendChild(card);
            });
        }

        function filterEnergy(level) { currentEnergy = level; renderCards(); }
        function filterMood(mood) { currentMood = mood; renderCards(); }

        function showFullCard(index) {
            app.classList.add('hidden');
            const mode = filteredModes[index];
            fullCard.innerHTML = `
                <h2 class="text-4xl font-bold mb-4">${mode.name}</h2>
                <img src="${mode.img}" alt="${mode.name}" class="card-image">
                <ul class="list-disc ml-6 text-lg">${mode.menu.map(item => `<li>${item}</li>`).join('')}</ul>
                <div class="text-center mt-6"><button onclick="closeCard()" class="bg-gray-400 text-black py-2 px-4 rounded">Close</button></div>`;
            fullCard.classList.remove('hidden');
        }

        function closeCard() {
            fullCard.classList.add('hidden');
            app.classList.remove('hidden');
        }

        renderCards();
    </script>
</body>
</html>
